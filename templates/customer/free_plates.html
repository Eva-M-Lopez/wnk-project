{% extends "base.html" %}

{% block title %}Free Plates - Waste Not Kitchen{% endblock %}

{% block content %}
<div class="dashboard-container">
    <h2>Free Plates (Donated)</h2>
    <p class="info-message">You can reserve up to 2 plates at a time.</p>
    
    {% if plates %}
        <div class="plates-grid">
            {% for plate in plates %}
            <div class="plate-card">
                <h3>{{ plate.title or 'Food Item' }}</h3>
                <p class="restaurant-name">{{ plate.restaurant_name }}</p>
                <p class="description">{{ plate.description }}</p>
                <p class="price free-badge">FREE (Donated)</p>
                <p class="quantity">Available: {{ plate.quantity_available }}</p>
                <p class="time-window">
                    <small>Pickup: {{ plate.start_time.strftime('%m/%d %I:%M%p') }} - {{ plate.end_time.strftime('%I:%M%p') }}</small>
                </p>
                
                <form method="POST" action="{{ url_for('customer.reserve') }}" class="reserve-form">
                    <input type="hidden" name="plate_id" value="{{ plate.plate_id }}">
                    <input type="hidden" name="qty" value="1">
                    <button type="submit" class="btn btn-primary">Reserve</button>
                </form>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="no-data">No free plates available at the moment. Check back later!</p>
    {% endif %}
</div>
{% endblock %}